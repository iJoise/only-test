(this.webpackJsonponly=this.webpackJsonponly||[]).push([[0],{44:function(n,e,t){"use strict";t.r(e);var i,r,c,o,a,s,l,b=t(3),u=t(0),h=t.n(u),d=t(26),j=t.n(d),p=t(12),x=t(4),g=t(5),O=t(10),f=t(2),m=t.n(f),E=t(7),S=t(30),I=t(1),y=function(n){return Object(I.jsx)(F,Object(O.a)({},n))},F=x.b.div(i||(i=Object(b.a)(["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n  margin: ",";\n  height: ",";\n"])),(function(n){return n.direction||"row"}),(function(n){return n.align||"stretch"}),(function(n){return n.justify||"stretch"}),(function(n){return n.margin||"0"}),(function(n){return n.height||"auto"})),_=function(n){var e=n.errorMessage;return Object(I.jsxs)(v,{children:[Object(I.jsx)(w,{children:"!"}),Object(I.jsx)(A,{children:e})]})},v=x.b.h1(r||(r=Object(b.a)(["\n  width: 100%;\n  background: #F5E9E9;\n  border: 1px solid #E26F6F;\n  box-sizing: border-box;\n  border-radius: 8px;\n  height: 60px;\n  padding: 20px;\n"]))),w=x.b.span(c||(c=Object(b.a)(["\n  display: inline-block;\n  text-align: center;\n  width: 20px;\n  height: 20px;\n  background: #FFC8C8;\n  border-radius: 50%;\n  margin-right: 15px;\n  font-size: 14px;\n  line-height: 18px;\n  color: #EE6565;\n"]))),A=x.b.span(o||(o=Object(b.a)(["\n  font-size: 14px;\n  line-height: 17px;\n"])));!function(n){n.SET_IS_FETCHING="only/login/SET_IS_FETCHING",n.SET_IS_ERROR="only/login/SET_IS_ERROR",n.SET_USER_NAME="only/login/SET_USER_NAME",n.SET_IS_AUTH="only/login/SET_IS_AUTH"}(a||(a={})),function(n){n[n.OK=200]="OK",n[n.FAILED=401]="FAILED"}(s||(s={})),function(n){n.LOGIN="/login",n.PROFILE="/profile"}(l||(l={}));var k,T,R,C,N,M,z,L,U,H,G,J,P,q,D,K=function(n,e){return{request:{},status:e,headers:{},config:{},data:n}},Y={_fake:function(n,e){return new Promise((function(t,i){var r,c;setTimeout((function(){var r;n.indexOf("onlydigital")>0&&("steve.jobs@example.com"===e.email&&"password"===e.password?(r={message:"You are successfully logged in",isAuth:!0,email:e.email,rememberMe:e.rememberMe},t(K(r,s.OK))):(r={message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ".concat(e.email," \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),isAuth:!1},i(K(r,s.FAILED))))}),1e3*(r=1,c=3,Math.floor(Math.random()*(c-r+1)+r)))}))},post:function(n,e){return this._fake(n,e)}},B=function(n){return Y.post("https://onlydigital.ru/",n)},Q=t(31),V=function(n){var e=n.children,t=n.onClick,i=Object(Q.a)(n,["children","onClick"]);return Object(I.jsx)(W,Object(O.a)(Object(O.a)({onClick:function(){t&&t(!1)}},i),{},{children:e}))},W=x.b.button(k||(k=Object(b.a)(["\n  margin-top: 40px;\n  height: 60px;\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  border: none;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 22px;\n  cursor: pointer;\n  width: ",";\n  &:active {\n    transform: scale(0.98);\n  }\n"])),(function(n){return n.disabled?"#99A9FF":n.bgColor}),(function(n){return n.color||"#fff"}),(function(n){return n.width||"auto"})),X=h.a.memo((function(n){var e=n.errorMessage,t=n.setErrorMessage,i=n.setIsFetching,r=n.isFetching,c=n.setIsAuth,o=n.setUserEmail,a=Object(S.a)(),s=a.register,l=a.handleSubmit,b=a.formState.errors,h=Object(u.useCallback)(function(){var n=Object(E.a)(m.a.mark((function n(e){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i(!0),n.next=4,B(e);case 4:r=n.sent,c(!0),r.data.email&&o(r.data.email),r.data.rememberMe&&(localStorage.setItem("isAuth",JSON.stringify(r.data.isAuth)),localStorage.setItem("userEmail",JSON.stringify(r.data.email))),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),t(n.t0.data.message);case 13:return n.prev=13,i(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})));return function(e){return n.apply(this,arguments)}}(),[t,i,c,o]);return Object(I.jsx)($,{children:Object(I.jsx)(y,{justify:"center",align:"center",height:"80vh",children:Object(I.jsxs)(nn,{onSubmit:l(h),children:[Object(I.jsx)(Z,{children:e&&Object(I.jsx)(_,{errorMessage:e})}),Object(I.jsxs)(y,{direction:"column",children:[Object(I.jsx)(en,{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(I.jsx)(tn,Object(O.a)({},s("email",{required:!0}))),Object(I.jsx)(cn,{children:b.email&&Object(I.jsx)(rn,{children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})}),Object(I.jsx)(en,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(I.jsx)(tn,Object(O.a)({type:"password"},s("password",{required:!0}))),Object(I.jsx)(cn,{children:b.password&&Object(I.jsx)(rn,{children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})}),Object(I.jsxs)(an,{children:["\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",Object(I.jsx)(on,Object(O.a)({type:"checkbox"},s("rememberMe"))),Object(I.jsx)(sn,{})]}),Object(I.jsx)(V,{bgColor:"#4A67FF",disabled:r,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})})),Z=x.b.div(T||(T=Object(b.a)(["\n  height: 60px;\n"]))),$=x.b.h1(R||(R=Object(b.a)(["\n  max-width: 650px;\n  margin: 0 auto;\n"]))),nn=x.b.form(C||(C=Object(b.a)(["\n  min-width: 640px;\n"]))),en=x.b.label(N||(N=Object(b.a)(["\n  font-size: 16px;\n  line-height: 19px;\n  margin-bottom: 10px;\n  margin-top: 20px;\n  font-weight: normal;\n"]))),tn=x.b.input(M||(M=Object(b.a)(["\n  height: 60px;\n  border-radius: 8px;\n  border: none;\n  background-color: #F5F5F5;\n  padding: 20px;\n  font-size: 16px;\n  line-height: 19px;\n  color: #232323;\n  &:focus {\n    outline: none;\n  }\n"]))),rn=x.b.span(z||(z=Object(b.a)(["\n  padding-top: 8px;\n  font-size: 14px;\n  line-height: 17px;\n  color: #E26F6F;\n  font-weight: normal;\n"]))),cn=x.b.div(L||(L=Object(b.a)(["\n  height: 25px;\n"]))),on=x.b.input(U||(U=Object(b.a)(["\n  height: 0;\n  width: 0;\n  opacity: 0;\n  z-index: -1;\n"]))),an=x.b.label(H||(H=Object(b.a)(["\n  margin-top: 20px;\n  position: relative;\n  display: inline-block;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 19px;\n  padding-left: 35px;\n"]))),sn=x.b.div(G||(G=Object(b.a)(['\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: 1px solid #000;\n  border-radius: 4px;\n  \n  &::after {\n    content: "";\n    position: absolute;\n    display: none;\n  }\n\n  ',":checked + &::after {\n    display: block;\n    top: 2px;\n    left: 2px;\n    width: 14px;\n    height: 14px;\n    background: #4A67FF;\n    border-radius: 2px;\n  }\n"])),on),ln=h.a.memo((function(n){var e=n.userEmail,t=n.setIsAuth,i=Object(u.useCallback)((function(n){t(n),localStorage.removeItem("isAuth"),localStorage.removeItem("userEmail")}),[t]);return Object(I.jsxs)(y,{justify:"center",align:"center",height:"80vh",direction:"column",children:[Object(I.jsxs)(bn,{children:["\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435, ",Object(I.jsx)("span",{children:e})]}),Object(I.jsx)(V,{onClick:i,width:"200px",bgColor:"#F5F5F5",color:"#000",children:"\u0412\u044b\u0439\u0442\u0438"})]})})),bn=x.b.h2(J||(J=Object(b.a)(["\n  font-size: 40px;\n  line-height: 48px;\n  span {\n    font-size: inherit;\n    font-weight: bold;\n  }\n"]))),un=function(){return Object(I.jsx)(hn,{children:"ONLY."})},hn=x.b.h1(P||(P=Object(b.a)(["\n  font-weight: bold;\n  font-size: 64px;\n  line-height: 78px;\n  margin-top: 40px;\n"]))),dn={isFetching:!1,isError:null,isAuth:!1,userEmail:""},jn=function(n,e){switch(e.type){case a.SET_IS_FETCHING:case a.SET_IS_ERROR:case a.SET_USER_NAME:case a.SET_IS_AUTH:return Object(O.a)(Object(O.a)({},n),e.payload);default:return n}},pn=function(n){return{type:a.SET_IS_FETCHING,payload:{isFetching:n}}},xn=function(n){return{type:a.SET_IS_ERROR,payload:{isError:n}}},gn=function(n){return{type:a.SET_USER_NAME,payload:{userEmail:n}}},On=function(n){return{type:a.SET_IS_AUTH,payload:{isAuth:n}}},fn=x.b.div(q||(q=Object(b.a)(["\n  width: 100%;\n  min-height: 100vh;\n"]))),mn=function(){var n=Object(u.useReducer)(jn,dn),e=Object(p.a)(n,2),t=e[0],i=e[1],r=Object(u.useCallback)((function(n){i(xn(n))}),[]),c=Object(u.useCallback)((function(n){i(pn(n))}),[]),o=Object(u.useCallback)((function(n){i(On(n))}),[]),a=Object(u.useCallback)((function(n){i(gn(n))}),[]);return Object(u.useEffect)((function(){var n=localStorage.getItem("isAuth"),e=localStorage.getItem("userEmail");n&&e&&(i(gn(JSON.parse(e))),i(On(JSON.parse(n))))}),[]),Object(I.jsxs)(fn,{children:[Object(I.jsx)(y,{justify:"center",children:Object(I.jsx)(un,{})}),Object(I.jsx)(g.b,{path:l.PROFILE,render:function(){return Object(I.jsx)(ln,{userEmail:t.userEmail,setIsAuth:o})}}),Object(I.jsx)(g.b,{path:l.LOGIN,render:function(){return Object(I.jsx)(X,{setErrorMessage:r,errorMessage:t.isError,setIsFetching:c,isFetching:t.isFetching,setIsAuth:o,setUserEmail:a})}}),t.isAuth?Object(I.jsx)(g.a,{to:l.PROFILE}):Object(I.jsx)(g.a,{to:l.LOGIN})]})},En=t(22),Sn=Object(x.a)(D||(D=Object(b.a)(['\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: "Helvetica Neue", serif;\n    font-size: 16px;\n    font-weight: normal;\n  }\n'])));j.a.render(Object(I.jsxs)(En.a,{children:[Object(I.jsx)(Sn,{}),Object(I.jsx)(mn,{})]}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.c2a1ba5d.chunk.js.map