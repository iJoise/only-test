(this.webpackJsonponly=this.webpackJsonponly||[]).push([[0],{44:function(n,e,t){"use strict";t.r(e);var i,r,c,o,a=t(3),s=t(0),l=t.n(s),b=t(26),u=t.n(b),h=t(12),d=t(4),j=t(5),p=t(10),x=t(2),g=t.n(x),f=t(7),O=t(30),m=t(1),E=d.b.div(i||(i=Object(a.a)(["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n  margin: ",";\n  height: ",";\n"])),(function(n){return n.direction||"row"}),(function(n){return n.align||"stretch"}),(function(n){return n.justify||"stretch"}),(function(n){return n.margin||"0"}),(function(n){return n.height||"auto"})),S=function(n){return Object(m.jsx)(E,Object(p.a)({},n))},y=function(n){var e=n.errorMessage;return Object(m.jsxs)(_,{children:[Object(m.jsx)(v,{children:"!"}),Object(m.jsx)(w,{children:e})]})},_=d.b.h1(r||(r=Object(a.a)(["\n  width: 100%;\n  background: #F5E9E9;\n  border: 1px solid #E26F6F;\n  box-sizing: border-box;\n  border-radius: 8px;\n  height: 60px;\n  padding: 20px;\n"]))),v=d.b.span(c||(c=Object(a.a)(["\n  display: inline-block;\n  text-align: center;\n  width: 20px;\n  height: 20px;\n  background: #FFC8C8;\n  border-radius: 50%;\n  margin-right: 15px;\n  font-size: 14px;\n  line-height: 18px;\n  color: #EE6565;\n"]))),w=d.b.span(o||(o=Object(a.a)(["\n  font-size: 14px;\n  line-height: 17px;\n"]))),F={_fake:function(n,e){return new Promise((function(t,i){var r,c;setTimeout((function(){var r;n.indexOf("onlydigital")>0&&("steve.jobs@example.com"===e.email&&"password"===e.password?(r={message:"You are successfully logged in",isAuth:!0,email:e.email,rememberMe:e.rememberMe},t(I(r,200))):(r={message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ".concat(e.email," \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),isAuth:!1},i(I(r,401))))}),1e3*(r=1,c=3,Math.floor(Math.random()*(c-r+1)+r)))}))},post:function(n,e){return this._fake(n,e)}},I=function(n,e){return{request:{},status:e,headers:{},config:{},data:n}};var k,T,A,C,R,M,z,N,U,H,J,G,q,Y,B=function(n){return F.post("https://https://onlydigital.ru/",n)},L=t(31),P=function(n){var e=n.children,t=n.onClick,i=Object(L.a)(n,["children","onClick"]);return Object(m.jsx)(D,Object(p.a)(Object(p.a)({onClick:function(){t&&t(!1)}},i),{},{children:e}))},D=d.b.button(k||(k=Object(a.a)(["\n  margin-top: 40px;\n  height: 60px;\n  border-radius: 8px;\n  background: ",";\n  color: ",";\n  border: none;\n  font-weight: bold;\n  font-size: 18px;\n  line-height: 22px;\n  cursor: pointer;\n  width: ",";\n  &:active {\n    transform: scale(0.98);\n  }\n"])),(function(n){return n.disabled?"#99A9FF":n.bgColor}),(function(n){return n.color||"#fff"}),(function(n){return n.width||"auto"})),K=l.a.memo((function(n){var e=n.errorMessage,t=n.setErrorMessage,i=n.setIsFetching,r=n.isFetching,c=n.setIsAuth,o=n.setUserEmail,a=Object(O.a)(),l=a.register,b=a.handleSubmit,u=a.formState.errors,h=Object(s.useCallback)(function(){var n=Object(f.a)(g.a.mark((function n(e){var r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i(!0),n.next=4,B(e);case 4:r=n.sent,c(!0),r.data.email&&o(r.data.email),r.data.rememberMe&&(localStorage.setItem("isAuth",JSON.stringify(r.data.isAuth)),localStorage.setItem("userEmail",JSON.stringify(r.data.email))),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),t(n.t0.data.message);case 13:return n.prev=13,i(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})));return function(e){return n.apply(this,arguments)}}(),[t,i,c,o]);return Object(m.jsx)(V,{children:Object(m.jsx)(S,{justify:"center",align:"center",height:"80vh",children:Object(m.jsxs)(W,{onSubmit:b(h),children:[Object(m.jsx)(Q,{children:e&&Object(m.jsx)(y,{errorMessage:e})}),Object(m.jsxs)(S,{direction:"column",children:[Object(m.jsx)(X,{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(m.jsx)(Z,Object(p.a)({},l("email",{required:!0}))),Object(m.jsx)(nn,{children:u.email&&Object(m.jsx)($,{children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})}),Object(m.jsx)(X,{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(m.jsx)(Z,Object(p.a)({type:"password"},l("password",{required:!0}))),Object(m.jsx)(nn,{children:u.password&&Object(m.jsx)($,{children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})}),Object(m.jsxs)(tn,{children:["\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",Object(m.jsx)(en,Object(p.a)({type:"checkbox"},l("rememberMe"))),Object(m.jsx)(rn,{})]}),Object(m.jsx)(P,{bgColor:"#4A67FF",disabled:r,children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})})),Q=d.b.div(T||(T=Object(a.a)(["\n  height: 60px;\n"]))),V=d.b.h1(A||(A=Object(a.a)(["\n  max-width: 650px;\n  margin: 0 auto;\n"]))),W=d.b.form(C||(C=Object(a.a)(["\n  min-width: 640px;\n"]))),X=d.b.label(R||(R=Object(a.a)(["\n  font-size: 16px;\n  line-height: 19px;\n  margin-bottom: 10px;\n  margin-top: 20px;\n  font-weight: normal;\n"]))),Z=d.b.input(M||(M=Object(a.a)(["\n  height: 60px;\n  border-radius: 8px;\n  border: none;\n  background-color: #F5F5F5;\n  padding: 20px;\n  font-size: 16px;\n  line-height: 19px;\n  color: #232323;\n  &:focus {\n    outline: none;\n  }\n"]))),$=d.b.span(z||(z=Object(a.a)(["\n  padding-top: 8px;\n  font-size: 14px;\n  line-height: 17px;\n  color: #E26F6F;\n  font-weight: normal;\n"]))),nn=d.b.div(N||(N=Object(a.a)(["\n  height: 25px;\n"]))),en=d.b.input(U||(U=Object(a.a)(["\n  height: 0;\n  width: 0;\n  opacity: 0;\n  z-index: -1;\n"]))),tn=d.b.label(H||(H=Object(a.a)(["\n  margin-top: 20px;\n  position: relative;\n  display: inline-block;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 19px;\n  padding-left: 35px;\n"]))),rn=d.b.div(J||(J=Object(a.a)(['\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: 1px solid #000;\n  border-radius: 4px;\n  \n  &::after {\n    content: "";\n    position: absolute;\n    display: none;\n  }\n\n  ',":checked + &::after {\n    display: block;\n    top: 2px;\n    left: 2px;\n    width: 14px;\n    height: 14px;\n    background: #4A67FF;\n    border-radius: 2px;\n  }\n"])),en),cn=d.b.h2(G||(G=Object(a.a)(["\n  font-size: 40px;\n  line-height: 48px;\n  span {\n    font-size: inherit;\n    font-weight: bold;\n  }\n"]))),on=l.a.memo((function(n){var e=n.userEmail,t=n.setIsAuth;return Object(m.jsxs)(S,{justify:"center",align:"center",height:"80vh",direction:"column",children:[Object(m.jsxs)(cn,{children:["\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435, ",Object(m.jsx)("span",{children:e})]}),Object(m.jsx)(P,{onClick:function(n){t(n),localStorage.removeItem("isAuth"),localStorage.removeItem("userEmail")},width:"200px",bgColor:"#F5F5F5",color:"#000",children:"\u0412\u044b\u0439\u0442\u0438"})]})})),an=d.b.h1(q||(q=Object(a.a)(["\n  font-weight: bold;\n  font-size: 64px;\n  line-height: 78px;\n  margin-top: 40px;\n"]))),sn=function(){return Object(m.jsx)(an,{children:"ONLY."})};!function(n){n.SET_IS_FETCHING="only/login/SET_IS_FETCHING",n.SET_IS_ERROR="only/login/SET_IS_ERROR",n.SET_USER_NAME="only/login/SET_USER_NAME",n.SET_IS_AUTH="only/login/SET_IS_AUTH"}(Y||(Y={}));var ln,bn=function(n){return{type:Y.SET_IS_FETCHING,payload:{isFetching:n}}},un=function(n){return{type:Y.SET_IS_ERROR,payload:{isError:n}}},hn=function(n){return{type:Y.SET_USER_NAME,payload:{userEmail:n}}},dn=function(n){return{type:Y.SET_IS_AUTH,payload:{isAuth:n}}},jn={isFetching:!1,isError:null,isAuth:!1,userEmail:""},pn=function(n,e){switch(e.type){case Y.SET_IS_FETCHING:case Y.SET_IS_ERROR:case Y.SET_USER_NAME:case Y.SET_IS_AUTH:return Object(p.a)(Object(p.a)({},n),e.payload);default:return n}},xn=d.b.div(ln||(ln=Object(a.a)(["\n  width: 100%;\n  min-height: 100vh;\n"])));var gn,fn=function(){var n=Object(s.useReducer)(pn,jn),e=Object(h.a)(n,2),t=e[0],i=e[1];Object(s.useEffect)((function(){var n=localStorage.getItem("isAuth"),e=localStorage.getItem("userEmail");n&&e&&(i(hn(JSON.parse(e))),i(dn(JSON.parse(n))))}),[]);var r=Object(s.useCallback)((function(n){i(un(n))}),[]),c=Object(s.useCallback)((function(n){i(bn(n))}),[]),o=Object(s.useCallback)((function(n){i(dn(n))}),[]),a=Object(s.useCallback)((function(n){i(hn(n))}),[]);return Object(m.jsxs)(xn,{children:[Object(m.jsx)(S,{justify:"center",children:Object(m.jsx)(sn,{})}),Object(m.jsx)(j.b,{path:"/profile",render:function(){return Object(m.jsx)(on,{userEmail:t.userEmail,setIsAuth:o})}}),Object(m.jsx)(j.b,{path:"/login",render:function(){return Object(m.jsx)(K,{setErrorMessage:r,errorMessage:t.isError,setIsFetching:c,isFetching:t.isFetching,setIsAuth:o,setUserEmail:a})}}),t.isAuth?Object(m.jsx)(j.a,{to:"/profile"}):Object(m.jsx)(j.a,{to:"/login"})]})},On=t(22),mn=Object(d.a)(gn||(gn=Object(a.a)(['\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: "Helvetica Neue", serif;\n    font-size: 16px;\n    font-weight: normal;\n  }\n'])));u.a.render(Object(m.jsxs)(On.a,{children:[Object(m.jsx)(mn,{}),Object(m.jsx)(fn,{})]}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.db26d16e.chunk.js.map